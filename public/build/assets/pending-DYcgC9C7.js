var r="pending-table",o=$("#"+r).DataTable({processing:!0,serverSide:!0,searching:!1,lengthChange:!1,pagingType:"full_numbers",ajax:{url:ENGINEER_LEAVE_DATATABLE,type:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},dataType:"json",data:function(a){a.leave_approve_status="pending"}},columns:[{title:"Eng. Name",data:"engineer_name",name:"engineer_name",width:"20%",orderable:!1,createdCell:function(a,e,t,n,d){$(a).addClass("px-6 py-3 ")}},{title:"Date",data:"leave_date_div",name:"leave_date_div",width:"20%",orderable:!1,createdCell:function(a,e,t,n,d){$(a).addClass("px-6 py-3 ")}},{title:"Days",data:"days_div",name:"days_div",width:"20%",orderable:!1,createdCell:function(a,e,t,n,d){$(a).addClass("px-6 py-3 ")}},{title:"Type",data:"type_div",name:"type_div",width:"20%",orderable:!1,createdCell:function(a,e,t,n,d){$(a).addClass("px-6 py-3 ")}},{title:"Document",data:"document_div",name:"document_div",width:"20%",orderable:!1,createdCell:function(a,e,t,n,d){$(a).addClass("px-6 py-3 ")}},{title:"Status",data:"status_div",name:"status_div",width:"20%",orderable:!1,createdCell:function(a,e,t,n,d){$(a).addClass("px-6 py-3 ")}},{title:"",data:"action",name:"action",orderable:!1,searchable:!1,width:"18%",createdCell:function(a,e,t,n,d){$(a).addClass("action-cell text-end d-flex justify-content-end m-3")}}],headerCallback:function(a,e,t,n,d){setTimeout(()=>{$(a).find("th").first().removeClass("dt-ordering-asc"),$(a).find("th").last().addClass("d-flex justify-content-end"),$(a).find("th").addClass("bg-blue-100  dark:bg-gray-900 px-6 py-3"),$(a).addClass("text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400")},10)},createdRow:function(a,e,t){$(".dt-layout-table").next().addClass("pagination-show-entries"),$(a).addClass("odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 border-gray-200")},drawCallback:function(a){typeof initializeDropdowns=="function"?initializeDropdowns():console.warn("initializeDropdowns is not defined")}});$(document).on("click",".accept_btn",function(){confirm("Are you sure you want to approve this leave?")&&$.ajax({url:$(this).data("href"),type:"POST",dataType:"json",data:typeof post_parameter<"u"?post_parameter:{},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){showSuccessToast(e.message);var t=$("#"+r).DataTable().page.info().page;o.page(t).draw(!1)}})});$(document).on("click",".reject_btn",function(){confirm("Are you sure you want to reject this leave?")&&$.ajax({url:$(this).data("href"),type:"POST",dataType:"json",data:typeof post_parameter<"u"?post_parameter:{},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){showSuccessToast(e.message);var t=$("#"+r).DataTable().page.info().page;o.page(t).draw(!1)}})});$(document).on("click",".pending-tab",function(){o.ajax.reload()});
