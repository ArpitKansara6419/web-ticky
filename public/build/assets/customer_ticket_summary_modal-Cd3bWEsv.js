import{f as i}from"./helper-Cf_YSK-M.js";import"./axios-DLhqr1Z7.js";import"./axios-DGDcxXwr.js";var h=document.getElementById("customer-ticket-summary-modal"),l=new Modal(h,{},{override:!0});$(".close_customer_summary_modal").on("click",async function(){l.toggle()});$(document).on("click",".open-ticket-work-modal",async function(){try{l.toggle();let t=STORAGE_LINK;var o={id:$(this).data("ticket-work-id")},e=await i.get(`${CUSTOMER_PAYOUT_FETCH_POPUP}`,o);$("#customer-ticket-summary-modal-body").html(e.html)}catch(t){showSuccessToast(t.message)}});$(document).on("click",".customer-edit-btn, .customer-save-btn",function(){let o=$("#customer-ticket-summary-modal .payout-id-hidden").val();console.log("Final Payout ID:",o);let e=$(this),t=e.closest("tr"),a=t.find(".amount-text"),s=t.find(".amount-input-customer"),d=t.find(".customer-edit-btn"),n=t.find(".customer-save-btn");if(e.hasClass("customer-edit-btn"))a.addClass("hidden"),s.removeClass("hidden").focus(),d.addClass("hidden"),n.removeClass("hidden");else if(e.hasClass("customer-save-btn")){let r=s.val();a.text(r).removeClass("hidden"),s.addClass("hidden"),d.removeClass("hidden"),n.addClass("hidden");let m=t.find(".amount-cell").data("key");$.ajax({url:UPDATE_AMOUNT_CUSTOMER,method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{payoutId:o,key:m,amount:r,type:"customer"},success:function(c){console.log("Updated successfully:",c),alert("Amount Updated Successfully")},error:function(c,k,u){console.error("Error updating:",u)}})}});
