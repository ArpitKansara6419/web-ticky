import{f as e}from"./helper-Cf_YSK-M.js";import"./axios-DLhqr1Z7.js";import"./axios-DGDcxXwr.js";let l=1,n=!1,s=!1;var r=$("#all");const N=()=>{r.html(""),l=1,n=!1,s=!1},c=async()=>{var t={};if(!(n||s)){n=!0;var a=await e.post(`${NOTI_LAZY_LOAD}?page=${l}`,t);console.log("response => ",a),a.notifications.data.length===0?(s=!0,typeof a.notifications.total<"u"&&a.notifications.total===0&&r.append(a.html)):(r.append(a.html),l++,n=!1)}};$(document).ready(async function(){await c(),$("#all").on("scroll",function(){const t=$(this).get(0);t.scrollTop+t.clientHeight>=t.scrollHeight-5&&c()})});$("#all-tab").on("click",async function(){await N(),await c()});let f=1,o=!1,d=!1;var u=$("#unread");const y=()=>{u.html(""),f=1,o=!1,d=!1},h=async()=>{var t={};if(t.is_read=!1,!(o||d)){o=!0;var a=await e.post(`${NOTI_LAZY_LOAD}?page=${f}`,t);a.notifications.data.length===0?(d=!0,typeof a.notifications.total<"u"&&a.notifications.total===0&&u.append(a.html)):(u.append(a.html),f++,o=!1)}};$(document).ready(async function(){await h(),$("#unread").on("scroll",function(){const t=$(this).get(0);t.scrollTop+t.clientHeight>=t.scrollHeight-5&&h()})});$("#unread-tab").on("click",async function(){await y(),await h()});let p=1,i=!1,m=!1;var g=$("#read");const w=()=>{g.html(""),p=1,i=!1,m=!1},_=async()=>{var t={};if(t.is_read=!0,!(i||m)){i=!0;var a=await e.post(`${NOTI_LAZY_LOAD}?page=${p}`,t);a.notifications.data.length===0?(m=!0,typeof a.notifications.total<"u"&&a.notifications.total===0&&g.append(a.html)):(g.append(a.html),p++,i=!1)}};$(document).ready(async function(){await _(),$("#read").on("scroll",function(){const t=$(this).get(0);t.scrollTop+t.clientHeight>=t.scrollHeight-5&&_()})});$("#read-tab").on("click",async function(){await w(),await _()});$(document).on("click",".mark_as_read",async function(){var t=await e.get($(this).data("href"));$(".all_count").html(t.all_count),$(".read_count").html(t.read_count),$(".unread_count").html(t.unread_count),showSuccessToast(t.message),$(this).remove()});$(document).on("click",".mark-all-as-read",async function(){var t=await e.get($(this).data("href"));$(".all_count").html(t.all_count),$(".read_count").html(t.read_count),$(".unread_count").html(t.unread_count),showSuccessToast(t.message),$(".mark_as_read").remove()});
