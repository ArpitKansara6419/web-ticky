import{f as n}from"./helper-Cf_YSK-M.js";import"./axios-DLhqr1Z7.js";import"./axios-DGDcxXwr.js";var l="holiday-table",d=$("#"+l).DataTable({processing:!0,serverSide:!0,searching:!1,lengthChange:!1,pagingType:"full_numbers",ajax:{url:HOLIDAY_DATATABLE,type:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},dataType:"json",data:function(a){var e=$("#search").val();a["search[value]"]=e,a.country=$("#country_id").val()}},columns:[{title:"Title",data:"title",name:"title",width:"22%",orderable:!1,createdCell:function(a,e,t,o,r){$(a).addClass("px-6 py-3 ")}},{title:"Holiday Type",data:"type",name:"type",width:"27%",orderable:!1,createdCell:function(a,e,t,o,r){$(a).addClass("px-6 py-3 ")}},{title:"Country",data:"country_name",name:"country_name",width:"12%",orderable:!1,createdCell:function(a,e,t,o,r){$(a).addClass("px-6 py-3 ")}},{title:"Date",data:"date",name:"date",width:"14%",orderable:!1,createdCell:function(a,e,t,o,r){$(a).addClass("px-6 py-3 ")}},{title:"Status",data:"status",name:"status",width:"6%",orderable:!1,createdCell:function(a,e,t,o,r){$(a).addClass("px-6 py-3 ")}},{title:"",data:"action",name:"action",orderable:!1,searchable:!1,width:"6%",createdCell:function(a,e,t,o,r){$(a).addClass("action-cell text-end d-flex justify-content-end m-3")}}],headerCallback:function(a,e,t,o,r){setTimeout(()=>{$(a).find("th").first().removeClass("dt-ordering-asc"),$(a).find("th").last().addClass("d-flex justify-content-end"),$(a).find("th").addClass("bg-blue-100  dark:bg-gray-900 px-6 py-3"),$(a).addClass("text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400")},10)},createdRow:function(a,e,t){$(".dt-layout-table").next().addClass("pagination-show-entries"),$(a).addClass("odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 border-gray-200")},drawCallback:async function(a){typeof initializeDropdowns=="function"?await initializeDropdowns():console.warn("initializeDropdowns is not defined")}});window.holiday_list_datatable=d;const s=document.getElementById("static-modal"),i=new Modal(s,{},{id:"static-modal",override:!0});$(".close-modal").on("click",function(){i.toggle()});$("#search").on("input",function(){d.ajax.reload()});$(document).on("click",".del-button",function(){if(confirm("Are you sure?")){var a=$(this).data("holiday_id");$.ajax({url:HOLIDAT_REMOVE+a,type:"DELETE",dataType:"json",data:typeof post_parameter<"u"?post_parameter:{},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){showSuccessToast(e.message);var t=$("#"+l).DataTable().page.info().page;d.page(t).draw(!1)}})}});$(document).on("change","#country_id",function(){d.ajax.reload()});$(document).on("click",".holiday_active_inactive",async function(){if(confirm("Are you sure?")){var a=$(this).data("holiday_id");try{var e=await n.post(HOLIDAY_ACTIVE_INACTIVE+a);showSuccessToast(e.message),d.ajax.reload()}catch(t){showErrorToast(t.message)}}});
