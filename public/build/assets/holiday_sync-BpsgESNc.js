import{f as n}from"./helper-Cf_YSK-M.js";import"./axios-DLhqr1Z7.js";import"./axios-DGDcxXwr.js";var d=document.getElementById("holiday-sync-modal"),c=new Modal(d,{},{override:!0}),r=$("#year"),l=$("#county_search"),e=!1;$("#syncBtn").on("click",async function(){e||(e=!0,await i()),c.toggle()});async function i(){try{var a=r.val(),t=await n.get(`${HOLIDAY_COUNTRY_LOAD}`,{year:a});$("#country_list_load").html(t.html),l.trigger("input")}catch(o){showErrorToast(o.message)}}$(".toggleModal").on("click",function(){c.toggle()});$(document).on("input","#county_search",function(){var a=$(this).val().toLowerCase().trim();$(".country-list").each(function(){var t=$(this),o=t.find(".country-name").eq(0).text().toLowerCase(),s=o.includes(a);s?t.removeClass("hidden"):t.addClass("hidden")})});r.on("change",async function(){e=!1,await i()});$(document).on("click",".sync_holiday_country",async function(){var a={};if(a.country=$(this).data("country"),a.year=r.val(),a.country_code=$(this).data("country_code"),a.uuid=$(this).data("uuid"),a.flag_unicode=$(this).data("flag_unicode"),confirm("Are you sure you want to sync?"))try{var t=await n.post(SYNC_HOLIDAY,a);showSuccessToast(t.message),holiday_list_datatable.ajax.reload(),$(this).attr("disabled",!0),$(this).addClass("disabled:opacity-50 disabled:cursor-not-allowed"),e=!1}catch(o){showErrorToast(o.message)}});
